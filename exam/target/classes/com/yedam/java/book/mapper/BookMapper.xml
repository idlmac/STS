<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.java.book.mapper.BookMapper">
	<!-- 책번호 + 1 -->
	<select id="getBookNo" resultType="BookVO">
		SELECT NVL(MAX(bookNo), 0) + 1 as bookNo FROM BOOK_TBL_06
	</select>
	<!-- 전체조회 -->
	<select id="getBookList" resultType="BookVO">
		SELECT * FROM BOOK_TBL_06 ORDER BY bookNo
	</select>
	<!-- 단건조회 -->
	<select id="getBookInfo" parameterType="BookVO" resultType="BookVO">
		SELECT bookNo, bookName, bookCoverImg, bookDate, bookPrice, bookPublisher, bookInfo
		FROM BOOK_TBL_06
		WHERE bookNo = #{bookNo}
	</select>
	<insert id="insertBook" parameterType="BookVO">
		INSERT INTO BOOK_TBL_06 (
								bookNo,
								bookName, 
								bookCoverImg, 
								bookDate, 
								bookPrice, 
								bookPublisher, 
								bookInfo
		)
		VALUES(
				#{bookNo},
				#{bookName},
				#{bookCoverImg},
				#{bookDate},
				#{bookPrice},
				#{bookPublisher},
				#{bookInfo},
		)
	</insert>
	<!-- 수정 -->
	<update id="updateBook" parameterType="BookVO">
		UPDATE BOOK_TBL_06
		<set>
							bookNo=#{bookNo},
							bookName=#{bookName}, 
							bookCoverImg=	#{bookCoverImg}, 
							bookDate=#{bookDate}, 
							bookPrice=#{bookPrice}, 
							bookPublisher=#{bookPublisher}, 
							bookInfo=#{bookInfo}
		</set>
	</update>
	<!-- 삭제 -->
	<delete id="deleteBook" parameterType="Integer">
		DELETE FROM BOOK_TBL_06
		WHERE bookNo = #{bookNo}
	</delete>
</mapper>